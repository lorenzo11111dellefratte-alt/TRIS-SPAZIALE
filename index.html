<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tris Spaziale XR</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- MENU DI PARTENZA -->
<div id="menu">
  <h1>Tris Spaziale XR</h1>
  <button class="menu-btn" onclick="startGame('2players')">2 Giocatori</button>
  <button class="menu-btn" onclick="showRobotMenu()">Gioca con il Robot</button>
  <button class="menu-btn" onclick="showSettings()">Impostazioni</button>
</div>

<!-- SELEZIONE DIFFICOLTÀ ROBOT -->
<div id="robotMenu" class="hidden">
  <h2>Seleziona Difficoltà Robot</h2>
  <button class="menu-btn" onclick="startGameRobot('easy')">Facile</button>
  <button class="menu-btn" onclick="startGameRobot('medium')">Medio</button>
  <button class="menu-btn" onclick="startGameRobot('hard')">Difficile</button>
  <button class="menu-btn" onclick="backToMenu()">Indietro</button>
</div>

<!-- IMPOSTAZIONI -->
<div id="settings" class="hidden">
  <h2>Impostazioni</h2>

  <div class="color-setting">
    <label>Colore X:</label>
    <div class="color-box" id="previewX"></div>
    <input type="color" id="colorX" value="#ff0000">
  </div>

  <div class="color-setting">
    <label>Colore O:</label>
    <div class="color-box" id="previewO"></div>
    <input type="color" id="colorO" value="#00ff00">
  </div>

  <label><input type="checkbox" id="soundToggle" checked> Suoni attivi</label><br>

  <label>Sfondo personalizzato: <input type="text" id="bgUrl" placeholder="Inserisci URL immagine"></label><br>
  <button class="menu-btn" onclick="applyBackground()">Applica Sfondo</button>
  <button class="menu-btn" onclick="resetBackground()">Sfondo Predefinito</button><br>

  <button class="menu-btn" onclick="saveSettings()">Salva e Torna al Menu</button>
</div>

<!-- GIOCO -->
<div id="game" class="hidden">
  <h2 id="turn">Turno: Giocatore X</h2>

  <div id="board">
    <div class="cell" onclick="makeMove(0)"></div>
    <div class="cell" onclick="makeMove(1)"></div>
    <div class="cell" onclick="makeMove(2)"></div>
    <div class="cell" onclick="makeMove(3)"></div>
    <div class="cell" onclick="makeMove(4)"></div>
    <div class="cell" onclick="makeMove(5)"></div>
    <div class="cell" onclick="makeMove(6)"></div>
    <div class="cell" onclick="makeMove(7)"></div>
    <div class="cell" onclick="makeMove(8)"></div>
  </div>

  <div id="score">
    <p>Giocatore X: <span id="scoreX">0</span></p>
    <p>Giocatore O: <span id="scoreO">0</span></p>
    <p>Pareggi: <span id="scoreDraw">0</span></p>
  </div>

  <button class="menu-btn" onclick="resetBoard()">Nuova Partita</button>
  <button class="menu-btn" onclick="resetScores()">Reset Punteggi</button>
  <button class="menu-btn" onclick="backToMenuFromGame()">Torna alla Home</button>
</div>

<!-- POPUP FINE PARTITA -->
<div id="popup" class="hidden">
  <div id="popupBox">
    <h2 id="popupText"></h2>
    <button class="menu-btn" onclick="closePopup()">OK</button>
  </div>
</div>

<!-- AUDIO -->
<audio id="clickSound" src="click.mp3"></audio>
<audio id="winSound" src="win.mp3"></audio>
<audio id="drawSound" src="draw.mp3"></audio>

<script src="script.js"></script>
</body>
</html>
